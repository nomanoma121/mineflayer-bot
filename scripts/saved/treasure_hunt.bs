# Treasure Hunt Script
# Author: system
# Description: å®æ¢ã—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ - ãƒ©ãƒ³ãƒ€ãƒ ãªå ´æ‰€ã‚’æ¢ç´¢ã—ã¦é‰±çŸ³ã‚’æ¢ã™

var start_x = bot_x
var start_y = bot_y
var start_z = bot_z
var found_treasures = 0

say "ğŸ´â€â˜ ï¸ å®æ¢ã—é–‹å§‹ï¼"
say "é–‹å§‹åœ°ç‚¹: (" + start_x + ", " + start_y + ", " + start_z + ")"

repeat 10 {
  var search_num = _loop_index + 1
  say "== æ¢ç´¢ " + search_num + "/10 =="
  
  # ãƒ©ãƒ³ãƒ€ãƒ ãªåº§æ¨™ã‚’ç”Ÿæˆï¼ˆ-50ã‹ã‚‰+50ã®ç¯„å›²ï¼‰
  var rand_x = start_x + ((_loop_index * 17) % 101) - 50
  var rand_z = start_z + ((_loop_index * 23) % 101) - 50
  var target_y = start_y - 10
  
  say "ğŸ“ ç›®æ¨™åº§æ¨™: (" + rand_x + ", " + target_y + ", " + rand_z + ")"
  
  goto rand_x target_y rand_z
  wait 2
  
  say "ğŸ” å‘¨è¾ºã‚’èª¿æŸ»ä¸­..."
  
  # å‘¨è¾ºã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ˜ã£ã¦æ¢ç´¢
  var local_x = 0
  repeat 3 {
    dig
    wait 1
    
    # å®ç‰©åˆ¤å®šï¼ˆå˜ç´”ãªä¹±æ•°ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
    if (_loop_index + local_x) % 7 == 0 {
      set found_treasures = found_treasures + 1
      say "ğŸ’ å®ç‰©ç™ºè¦‹ï¼ ç·ç™ºè¦‹æ•°: " + found_treasures
    } else {
      say "ğŸ’¨ ä½•ã‚‚ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸ..."
    }
    
    set local_x = local_x + 1
  }
  
  wait 1
}

say "ğŸ‰ å®æ¢ã—å®Œäº†ï¼"
say "ğŸ“Š çµæœ: " + found_treasures + "å€‹ã®å®ç‰©ã‚’ç™ºè¦‹ã—ã¾ã—ãŸ"

# ãƒ›ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³ã«æˆ»ã‚‹
say "ğŸ  é–‹å§‹åœ°ç‚¹ã«æˆ»ã‚Šã¾ã™..."
goto start_x start_y start_z
say "æ¢ç´¢ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼"